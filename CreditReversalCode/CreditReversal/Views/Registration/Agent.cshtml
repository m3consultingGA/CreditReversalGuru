@model CreditReversal.Models.Agent
@{
    if (Session["UserRole"] != null && Session["UserName"] != null)
    {

        ViewBag.Title = "Business Profile";
    }
    else
    {
        ViewBag.Title = "Agent Registration";
    }
    if (Session["UserRole"] != null && Session["UserName"] != null)
    {
        Layout = "~/Views/Shared/_secureLayoutPage.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_publicLayoutPage.cshtml";
    }

    string BusinessName = "", EmailAddress = Model.PrimaryBusinessEmail, firstname = "", lastname = "",
        UserName = Model.UserName, TaxHeading = "Social Security Number", TaxNotes = "",
    TaxProof = "Social Security Card";

    firstname = Model.FirstName;
    lastname = Model.LastName;

    // file = Model.FedTaxIdentityProof;
    //string cas = Model.StateOfIncorporationProof;

    if (Model.TypeOfComp != "SOLO PROP")
    {
        BusinessName = Model.BusinessName;
        TaxHeading = "Fed Tax Identity No";
        TaxProof = "Fed Tax Identity Proof";
        TaxNotes = "Why we ask for this information? We ask for this information to verify your leagal business standing with the state and federal entities. If you are unable or unwilling to provide this information, please log out and let us know. We will deactivate your account and delete your information from our platform.";
    }
    else
    {
        TaxNotes = "Must be at least 9 characters long, Format should be 000-00-0000.";
    }

    //  string model = "";

    //model = Model.Agentstatus;

    //string BusinessName = "";
    //string EmailAddress = "";
    //string firstname = "";
    //string UserName = "";
    //string lastname = "";
    //string TaxHeading = "";
    //string TaxProof = "";

    //if (ViewBag.Agentstatus == "AgentStatus")
    //{
    //    EmailAddress = Model.PrimaryBusinessEmail;
    //    UserName = Model.UserName;
    //    TaxHeading = "Social Security Number";
    //    TaxProof = "Social Security Card";


    //    firstname = Model.FirstName;
    //    lastname = Model.LastName;

    //    if (Model.TypeOfComp != "SOLO PROP")
    //    {
    //        BusinessName = Model.BusinessName;
    //        TaxHeading = "Fed Tax Identity No";
    //        TaxProof = "Fed Tax Identity Proof";
    //    }

    //}

}


<br />

<style>
    .tooltip.in {
        opacity: 0.9;
    }
</style>
<div style="padding-top:20px;">
    <div class="container">
        <div class="portlet portlet-boxed">
            <div class="portlet-header">

                @if (Session["UserRole"] != null && Session["UserName"] != null)
                {
                    <h4 class="portlet-title">Business Profile</h4>
                }
                else
                {
                    <h4 class="portlet-title">Agent Registration</h4>
                }

            </div> <!-- /.portlet-header -->
            <div class="portlet-body">
                <div class="row" style="padding-top:20px;">
                    <ul class="nav nav-tabs" id="guide-tabs">
                        <li class="active"><a data-toggle="tab" href="#home" id="navBusiness"><h6>Business Information</h6></a></li>
                        <li><a data-toggle="tab" href="#Address" id="navAddress"><h6>Address</h6></a></li>
                        <li><a data-toggle="tab" href="#Billing" id="navBilling"><h6>Billing Information</h6></a></li>
                        <li><a data-toggle="tab" href="#User" id="navPrimary"><h6>Administrator</h6></a></li>

                    </ul>
                    <form method="post" id="agentform" action="/Registration/Agent" enctype="multipart/form-data">
                        <div class="tab-content">
                            <div id="home" class="tab-pane fade in active">
                                <div class="container">
                                    <div class="col-lg-12">
                                        @if (BusinessName != "")
                                        {
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>Business Name <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="input-group">
                                                            <input type="text" name="BusinessName" id="BusinessName" placeholder="Business Name" class="form-control" value="@BusinessName" onchange="RemoveValidation(this);" required />
                                                            <span class="input-group-btn" id="Mpopover">
                                                                <a class="btn btn-default" data-toggle="popover" title="Business Name" data-content="Enter your LEGAL business name as incorporated with the state."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                            </span>
                                                        </div>
                                                        <div id="Msg_BusinessName" class="text-danger">
                                                        </div>

                                                    </div>
                                                    <div class="col-md-5">
                                                        <p>Enter your LEGAL business name as incorporated with the state.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label>Type Of Company <span class="text-danger">*</span></label>
                                                </div>

                                                @if (BusinessName == "")
                                                {
                                                    <div class="col-md-4">
                                                        @foreach (var item in ViewBag.companytypes)
                                                        {
                                                            if (item.CompanyType == Model.TypeOfComp)
                                                            {
                                                                <input type="text" name="TypeOfComp" value="@item.CompanyTypeId" hidden />
                                                            }
                                                        }
                                                        <select id="TypeOfComp" name="TypeOfComp" class="form-control" disabled>
                                                            <option value="">Select</option>
                                                            @if (ViewBag.companytypes != null)
                                                            {
                                                                foreach (var item in ViewBag.companytypes)
                                                                {
                                                                    if (item.CompanyType == Model.TypeOfComp)
                                                                    {
                                                                        <option value="@item.CompanyTypeId" selected>@item.CompanyType</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item.CompanyTypeId">@item.CompanyType</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="col-md-4">
                                                        <select id="TypeOfComp" name="TypeOfComp" class="form-control" onchange="RemoveValidation(this);" required>
                                                            <option value="">Select</option>
                                                            @if (ViewBag.companytypes != null)
                                                            {
                                                                foreach (var item in ViewBag.companytypes)
                                                                {
                                                                    if (item.CompanyType == Model.TypeOfComp)
                                                                    {
                                                                        <option value="@item.CompanyTypeId" selected>@item.CompanyType</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (item.CompanyType != "SOLO PROP")
                                                                        {
                                                                            <option value="@item.CompanyTypeId">@item.CompanyType</option>
                                                                        }
                                                                    }
                                                                }
                                                            }

                                                        </select>
                                                        <div id="Msg_TypeOfComp" class="text-danger">

                                                        </div>
                                                    </div>
                                                    <div class="col-md-5">
                                                        <p>Choose type of company @ViewBag.companystring</p>
                                                    </div>
                                                }

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="DBA">DBA</label>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" placeholder="DBA" name="DBA" value="@Model.DBA" id="DBA">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="DBA" data-content="If different from the legal business name, please enter here. If not, leave blank."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>
                                                    <span style="color:red" id="Msg_DBA"></span>
                                                </div>
                                                <div class="col-md-6">
                                                    <p>If different from the legal business name, please enter here. If not, leave blank.</p>
                                                </div>
                                            </div>
                                        </div>
                                        @if (BusinessName != "")
                                        {
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>State Of Incorporation <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="input-group">
                                                            @*<input type="text" name="StateOfEncorp" id="StateOfEncorp" placeholder="State Of Incorporation" class="form-control" value="@Model.StateOfEncorp" onchange="RemoveValidation(this);" required />*@
                                                            <select name="StateOfEncorp" id="StateOfEncorp" class="form-control" onchange="RemoveValidation(this);" required>
                                                                <option>Select</option>
                                                                @if (ViewBag.states != null)
                                                                {
                                                                    foreach (var item in ViewBag.states)
                                                                    {
                                                                        if (item.StateCode == Model.StateOfEncorp)
                                                                        {
                                                                            <option value="@item.StateCode" selected>@item.StateName - @item.StateCode</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@item.StateCode">@item.StateName - @item.StateCode</option>
                                                                        }
                                                                    }
                                                                }

                                                            </select>
                                                            <span class="input-group-btn" id="Mpopover">
                                                                <a class="btn btn-default" data-toggle="popover" title="State Of Incorporation" data-content="State where your business is incorporated"><i class="glyphicon glyphicon-question-sign"></i></a>
                                                            </span>
                                                        </div>
                                                        <div id="Msg_StateOfEncorp" class="text-danger">
                                                            <label style="color:red" id="Msg_stateofencorp"></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-5">
                                                        <p>State where your business is incorporated.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>State Of Incorporation Proof <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">

                                                        @if (Model.StateOfIncorporationtext != "")
                                                        {<div class="input-group">
                                                                <input type="file" accept=".pdf,.jpeg,.png,.jpg" name="StateOfIncorporationProof" class="form-control" id="StateOfEncorpFile" placeholder="State Of Incorporation Proof">
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="State Of Incorporation Proof" data-content="Usually this is the articles of incorporation filed with your state. PDF/JPG/PNG only. "><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <input type="text" accept=".pdf,.jpeg,.png,.jpg" name="StateOfIncorporationtext" value="@Model.StateOfIncorporationtext" hidden />
                                                            <span><label>@Model.StateOfIncorporationtext</label></span>
                                                        }
                                                        else
                                                        {<div class="input-group">
                                                                <input type="file" accept=".pdf,.jpeg,.png,.jpg" name="StateOfIncorporationProof" class="form-control" id="StateOfEncorpFile" placeholder="State Of Incorporation Proof" required onchange="RemoveValidation(this);">
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="State Of Incorporation Proof" data-content="Usually this is the articles of incorporation filed with your state. PDF/JPG/PNG only."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <div id="Msg_StateOfEncorpFile" class="text-danger">
                                                            </div>
                                                        }
                                                    </div>
                                                    <div class="col-md-5">
                                                        <p>Usually this is the articles of incorporation filed with your state. PDF/JPG/PNG only.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>Date Of Incorporation <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="input-group">
                                                            <input type="text" class="form-control" name="DateOfEncorp" placeholder="Date Of Incorporation" id="DateOfEncorp" required onchange="RemoveValidation(this);">
                                                            <span class="input-group-btn" id="Mpopover">
                                                                <a class="btn btn-default" data-toggle="popover" title="Date Of Incorporation" data-content="From your articles of incorporation."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                            </span>
                                                        </div>
                                                        <div id="Msg_DateOfEncorp" class="text-danger">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-5">
                                                        <p>From your articles of incorporation.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        }

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="FedTaxIdentityNo">@TaxHeading <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" name="FedTaxIdentityNo" placeholder="@TaxHeading" id="FedTaxIdentityNo" value="@Model.FedTaxIdentityNo" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="@TaxHeading " data-content="@TaxNotes . Format should be XX-XXXXXXX"><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>

                                                    <div id="Msg_FedTaxIdentityNo" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <p>Why we ask for this information? We ask for this information to verify your legal business standing with the state and federal entities. If you are unable or unwilling to provide this information, please log out and let us know. We will deactivate your account and delete your information from our platform. Format should be XX-XXXXXXX</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="FedTaxIdentityNo">@TaxProof <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-4">

                                                    @if (Model.FedTaxIdentitytext != "")
                                                    {
                                                        <div class="input-group">
                                                            <input type="file" accept=".pdf,.jpeg,.png,.jpg" class="form-control" name="FedTaxIdentityProof" id="FedTaxIdentityProof" placeholder="@TaxProof" />
                                                            <span class="input-group-btn" id="Mpopover">
                                                                <a class="btn btn-default" data-toggle="popover" title="@TaxProof" data-content="Usually this is the articles of @TaxProof filed. PDF/JPG/PNG only. "><i class="glyphicon glyphicon-question-sign"></i></a>
                                                            </span>
                                                        </div>
                                                        <input type="text" accept=".pdf,.jpeg,.png,.jpg" name="FedTaxIdentitytext" value="@Model.FedTaxIdentitytext" hidden />

                                                        <span><label>@Model.FedTaxIdentitytext</label></span>
                                                    }
                                                    else
                                                    {<div class="input-group">
                                                            <input type="file" accept=".pdf,.jpeg,.png,.jpg" class="form-control" name="FedTaxIdentityProof" id="FedTaxIdentityProof" placeholder="@TaxProof" required onchange="RemoveValidation(this);" />
                                                            <span class="input-group-btn" id="Mpopover">
                                                                <a class="btn btn-default" data-toggle="popover" title="@TaxProof" data-content="Usually this is the articles of @TaxProof filed. PDF/JPG/PNG only. "><i class="glyphicon glyphicon-question-sign"></i></a>
                                                            </span>
                                                        </div>
                                                        <div id="Msg_FedTaxIdentityProof" class="text-danger">
                                                        </div>
                                                    }


                                                </div>
                                                <div class="col-md-4">
                                                    <p>Usually this is the articles of Fed Tax Identity Proof filed. PDF/JPG/PNG only.</p>
                                                </div>
                                            </div>
                                        </div>
                                        @if (BusinessName == "")
                                        {
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>Drivers License# <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <input type="text" class="form-control" name="DriversLicenseNumber" placeholder="DriversLicense" id="DriversLicenseNumber" value="@Model.DriversLicenseNumber" onchange="RemoveValidation(this);" required>
                                                        <div id="Msg_DriversLicenseNumber" class="text-danger">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>Drivers License State <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <select class="form-control" name="DriversLicenseState" id="DriversLicenseState" onchange="RemoveValidation(this);" required>
                                                            <option value="">Select State</option>
                                                            @if (ViewBag.states != null)
                                                            {
                                                                foreach (var item in ViewBag.states)
                                                                {
                                                                    if (item.StateCode == Model.DriversLicenseState)
                                                                    {
                                                                        <option value="@item.StateCode" selected>@item.StateName</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item.StateCode">@item.StateName</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                        <div id="Msg_DriversLicenseState" class="text-danger">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <label>Drivers License Copy <span class="text-danger">*</span></label>
                                                    </div>
                                                    <div class="col-md-4">

                                                        @if (Model.DriversLicenseCopytext != "")
                                                        {
                                                            <div class="input-group">
                                                                <input type="file" accept=".pdf,.jpeg,.png,.jpg" class="form-control" name="DriversLicenseCopy" placeholder="Drivers License Copy" id="DriversLicenseCopy">
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="Drivers License Copy" data-content="Usually this is the articles of Drivers License Copy filed. PDF/JPG/PNG only. "><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <input type="text" accept=".pdf,.jpeg,.png,.jpg" name="DriversLicenseCopytext" value="@Model.DriversLicenseCopytext" hidden />
                                                            <span><label>@Model.DriversLicenseCopytext</label></span>
                                                        }
                                                        else
                                                        { <div class="input-group">
                                                                <input type="file" accept=".pdf,.jpeg,.png,.jpg" class="form-control" name="DriversLicenseCopy" placeholder="Drivers License Copy" id="DriversLicenseCopy" onchange="RemoveValidation(this);" required>
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="Drivers License Copy" data-content="Usually this is the articles of Drivers License Copy filed. PDF/JPG/PNG only. "><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <div id="Msg_DriversLicenseCopy" class="text-danger">
                                                            </div>
                                                        }


                                                    </div>
                                                </div>
                                            </div>

                                        }
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">

                                                </div>
                                                <div class="col-md-4" style="padding:20px;">
                                                    <a class="btn btn-secondary pull-right" id="btnnext_1">Next</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--Tab 2(Address Tab)-->
                            <div id="Address" class="tab-pane fade">

                                <div class="container" style="border:1px solid #f7f6f6;width:auto;">
                                    <br />
                                    <div class="portlet-title">
                                        <h6>Primary Business Address</h6>
                                    </div>
                                    <hr />
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessAdd1">Line1 <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="PrimaryBusinessAdd1" placeholder="Line1" id="PrimaryBusinessAdd1" value="@Model.PrimaryBusinessAdd1" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_PrimaryBusinessAdd1" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessAdd1">Line2</label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="PrimaryBusinessAdd2" placeholder="Line2" value="@Model.PrimaryBusinessAdd2" id="PrimaryBusinessAdd2">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessCity">City <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="PrimaryBusinessCity" placeholder="City" id="PrimaryBusinessCity" value="@Model.PrimaryBusinessCity" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_PrimaryBusinessCity" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessCity">State <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    @*<input type="text" class="form-control" name="PrimaryBusinessState" placeholder="State" id="PrimaryBusinessState" value="@Model.PrimaryBusinessState" required onchange="RemoveValidation(this);">*@
                                                    <select class="form-control" name="PrimaryBusinessState" placeholder="State" id="PrimaryBusinessState" required onchange="RemoveValidation(this);">
                                                        <option value="">Select</option>
                                                        @if (ViewBag.states != null)
                                                        {
                                                            foreach (var item in ViewBag.states)
                                                            {
                                                                if (item.StateCode == Model.PrimaryBusinessState)
                                                                {
                                                                    <option value="@item.StateCode" selected>@item.StateName - @item.StateCode</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.StateCode">@item.StateName - @item.StateCode</option>
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                    <div id="Msg_PrimaryBusinessState" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessCity">Zip Code <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" name="PrimaryBusinessZip" maxlength="10" placeholder="Zip Code" id="PrimaryBusinessZip" onkeypress="validatezip(this)" value="@Model.PrimaryBusinessZip" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="Zip Code" data-content="Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX"><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>

                                                    </div>
                                                    <div id="Msg_PrimaryBusinessZip" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <p>Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX .</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessPhone">Phone <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" name="PrimaryBusinessPhone" placeholder="Phone" id="PrimaryBusinessPhone" value="@Model.PrimaryBusinessPhone" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="Phone" data-content="Must be at least 10 characters long, Format should be (XXX) XXX - XXXX or XXX-XXX-XXXX ."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>
                                                    <div id="Msg_PrimaryBusinessPhone" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <p>Must be at least 10 characters long, Format should be (XXX) XXX - XXXX or XXX-XXX-XXXX .</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessPhone">Email <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="email" class="form-control" name="PrimaryBusinessEmail" placeholder="Email" id="PrimaryBusinessEmail" value="@Model.PrimaryBusinessEmail" required onchange="RemoveValidation(this);" readonly>

                                                    <div id="Msg_PrimaryBusinessEmail" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <br />
                                <div class="container" style="border:1px solid #f7f6f6;width:auto;">
                                    <br />
                                    <div class="portlet-title">
                                        <h6>Billing Address</h6>
                                    </div>
                                    <hr />

                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <div class="checkbox">
                                                <label><input type="checkbox" id="chk_primary" onchange="check()" />Same as Primary Business Address</label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessAdd1">Line1 <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="BillingAdd1" placeholder="Line1" value="@Model.BillingAdd1" id="BillingAdd1" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_BillingAdd1" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="PrimaryBusinessAdd1">Line2</label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="BillingAdd2" placeholder="Line2" value="@Model.BillingAdd2" id="BillingAdd2">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="BillingCity">City <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control" name="BillingCity" placeholder="City" id="BillingCity" value="@Model.BillingCity" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_BillingCity" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="BillingState">State <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    @*<input type="text" class="form-control" name="BillingState" placeholder="State" id="BillingState" value="@Model.BillingState" required onchange="RemoveValidation(this);">*@
                                                    <select class="form-control" name="BillingState" placeholder="State" id="BillingState" required onchange="RemoveValidation(this);">
                                                        <option value="">Select</option>
                                                        @if (ViewBag.states != null)
                                                        {
                                                            foreach (var item in ViewBag.states)
                                                            {
                                                                if (item.StateCode == Model.BillingState)
                                                                {
                                                                    <option value="@item.StateCode" selected>@item.StateName - @item.StateCode</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item.StateCode">@item.StateName - @item.StateCode</option>
                                                                }
                                                            }
                                                        }
                                                    </select>
                                                    <div id="Msg_BillingState" class="text-danger">
                                                    </div>
                                                    <input type="hidden" name="AgentId" id="AgentId" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="BillingZip">Zip Code <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" name="BillingZip" maxlength="10" placeholder="Zip Code" id="BillingZip" onkeypress="validatezip(this)" value="@Model.BillingZip" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="Zip Code" data-content="Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX"><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>
                                                    <div id="Msg_BillingZip" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <p>Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX .</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="BillingPhone">Phone <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" name="BillingPhone" placeholder="Phone" id="BillingPhone" value="@Model.BillingPhone" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="Phone" data-content="Must be at least 10 characters long, Format should be (XXX) XXX - XXXX or XXX-XXX-XXXX ."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>
                                                    <div id="Msg_BillingPhone" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <p>Must be at least 10 characters long, Format should be (XXX) XXX - XXXX or XXX-XXX-XXXX .</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="BillingEmail">Email <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="input-group">
                                                        <input type="email" class="form-control" name="BillingEmail" placeholder="Email" id="BillingEmail" value="@Model.BillingEmail" required onchange="RemoveValidation(this);">
                                                        <span class="input-group-btn" id="Mpopover">
                                                            <a class="btn btn-default" data-toggle="popover" title="Email" data-content="Format should be 'john@company.com'."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                        </span>
                                                    </div>
                                                    <div id="Msg_BillingEmail" class="text-danger">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <p>Format should be 'john@company.com'.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <div class="col-md-2">

                                        </div>
                                        <div class="col-md-5">
                                            <div class="pull-right" style="padding:20px">
                                                <a id="btnnext_2" class="btn btn-secondary">Next</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div id="Billing" class="tab-pane fade">

                                <div class="container">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Pricing Plan <span class="text-danger">*</span></label>
                                                        </div>

                                                        <div class="col-md-4">
                                                            <select id="PricingPlan" name="PricingPlan" class="form-control" required onchange="RemoveValidation(this);">
                                                                <option value=""> Select</option>
                                                                @if (ViewBag.pricing != null)
                                                                {
                                                                    foreach (var item in ViewBag.pricing)
                                                                    {
                                                                        if (item.PricingId == Model.PricingPlan)
                                                                        {
                                                                            <option value="@item.PricingId" selected>@item.PricingType</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@item.PricingId">@item.PricingType</option>
                                                                        }
                                                                    }
                                                                }
                                                            </select>
                                                            <div id="Msg_PricingPlan" class="text-danger">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <p>Availabe Pricing plans - @ViewBag.pricingstring</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                @{
                                                    List<string> billingtype = new List<string>();
                                                    billingtype.Add("Monthly");
                                                    billingtype.Add("Quarterly");
                                                    billingtype.Add("Half-Yearly");
                                                    billingtype.Add("Annually");

                                                    string billingstr = string.Join(", ", billingtype.ToArray());
                                                }
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Billing Type <span class="text-danger">*</span></label>
                                                        </div>
                                                        <div class="col-md-4">
                                                            @*<input type="text" class="form-control" name="BillingType" placeholder="Billing Type" maxlength="50" id="txtBillingType" value="@Model.BillingType" required onchange="RemoveValidation(this);">*@
                                                            <select class="form-control" id="txtBillingType" name="BillingType" required onchange="RemoveValidation(this);">
                                                                <option value="">Select</option>
                                                                @foreach (var item in billingtype)
                                                                {
                                                                    if (!string.IsNullOrEmpty(Model.BillingType))
                                                                    {
                                                                        if (Model.BillingType == item)
                                                                        {
                                                                            <option value="@item" selected>@item</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@item">@item</option>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item">@item</option>
                                                                    }
                                                                }
                                                            </select>
                                                            <div id="Msg_txtBillingType" class="text-danger">

                                                            </div>
                                                        </div>
                                                        <div class="col-md-5">
                                                            <p>Billing types @billingstr</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Card Type <span class="text-danger">*</span></label>
                                                        </div>
                                                        @{
                                                            List<string> cardTypes = new List<string>();
                                                            cardTypes.Add("VISA");
                                                            cardTypes.Add("Capital One");
                                                            cardTypes.Add("Mastercard");
                                                        }
                                                        <div class="col-md-4">
                                                            <select id="CardType" name="CardType" class="form-control" required onchange="RemoveValidation(this);">
                                                                <option value="">Select</option>
                                                                @foreach (var item in cardTypes)
                                                                {
                                                                    if (item == Model.CardType)
                                                                    {
                                                                        <option value="@item" selected>@item</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item">@item</option>
                                                                    }
                                                                }
                                                            </select>
                                                            <div id="Msg_CardType" class="text-danger">
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>
                                                                Card Number
                                                                <span class="text-danger">*</span>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" minlength="15" maxlength="16" onkeypress="return IsValidNumber(event);" name="CardNumber" placeholder="Card Number" id="txtCardNumber" value="@Model.CardNumber" required onchange="RemoveValidation(this);">
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="Card Number" data-content="Must be at least 16 characters long."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <div id="Msg_txtCardNumber" class="text-danger">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <p>Must be at least 16 characters long.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Expiration Date <span class="text-danger">*</span></label>
                                                        </div>
                                                        @{
                                                            string[] Months = { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" };
                                                        }
                                                        <div class="col-md-2">
                                                            @*<input type="text" class="form-control" onkeypress="return isNumber(event);" placeholder="Month" maxlength="2" name="Month" value="@Model.Month" id="txtExpiryMonth" required onchange="RemoveValidation(this);" />*@
                                                            <select class="form-control" name="Month" id="txtExpiryMonth" required onchange="RemoveValidation(this);">
                                                                <option value="">Month</option>
                                                                @foreach (var item in Months)
                                                                {
                                                                    if (item == Model.Month)
                                                                    {
                                                                        <option value="@item" selected>@item</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@item">@item</option>
                                                                    }
                                                                }
                                                            </select>
                                                            <div id="Msg_txtExpiryMonth" class="text-danger">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            @*<input type="text" class="form-control" onkeypress="return isNumber(event);" maxlength="4" name="ExpiryDate" value="@Model.ExpiryDate" placeholder="Year" id="txtExpiryYear" required onchange="RemoveValidation(this);" />*@
                                                            <select class="form-control" name="ExpiryDate" id="txtExpiryYear" required onchange="RemoveValidation(this);">
                                                                <option value="">Year</option>
                                                                @if (ViewBag.years != null)
                                                                {
                                                                    foreach (var item in ViewBag.years)
                                                                    {

                                                                        string year = item.ToString();
                                                                        year = year.Substring(2, 2);

                                                                        if (year == Model.ExpiryDate)
                                                                        {
                                                                            <option value="@year" selected>@item</option>
                                                                        }
                                                                        else
                                                                        {
                                                                            <option value="@year">@item</option>
                                                                        }
                                                                    }
                                                                }
                                                            </select>
                                                            <div id="Msg_txtExpiryYear" class="text-danger">
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>CVV <span class="text-danger">*</span></label>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="input-group">
                                                                <input type="password" class="form-control" onkeypress="return IsValidNumber(event);" min="3" max="4" placeholder="CVV" name="CVV" id="txtCVV" value="@Model.CVV" required onchange="RemoveValidation(this);" />
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="CVV" data-content="Must be at least 3 characters long."><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <div id="Msg_txtCVV" class="text-danger">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2"></div>
                                                        <div class="col-md-5">
                                                            <p>Must be at least 3 characters long.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Zip Code <span class="text-danger">*</span></label>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" placeholder="Zip Code" name="BillingZipCode" id="BillingZipCode" value="@Model.BillingZipCode" maxlength="10" required onchange="RemoveValidation(this);" />
                                                                <span class="input-group-btn" id="Mpopover">
                                                                    <a class="btn btn-default" data-toggle="popover" title="Zip Code" data-content="Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX"><i class="glyphicon glyphicon-question-sign"></i></a>
                                                                </span>
                                                            </div>
                                                            <div id="Msg_BillingZipCode" class="text-danger">

                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <p>Must be at least 5 characters long. Format should be XXXXX or XXXXX-XXXX</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="text-danger">Note:</label>
                                                    <p class="text-danger"><label>1) We will save this information for recurring billing.<br />2) Amount will be  auto debited based on billing type.<br />3) Your account will be cancelled if payment failed.</label></p>

                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-10" style="padding:20px;">
                                                        <a class="btn btn-secondary AddBilling pull-right" id="btnnext_3">Next</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="User" class="tab-pane fade">
                                @*<h6>Primary User Details</h6>*@
                                <div class="container">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="FirstName">First Name <span class="text-danger">*</span> </label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="FirstName" placeholder="First Name" id="FirstName" value="@firstname" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_FirstName" class="text-danger">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="LastName">Last Name <span class="text-danger">*</span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="LastName" placeholder="Last Name" value="@lastname" id="LastName" required onchange="RemoveValidation(this);">
                                                    <div id="Msg_LastName" class="text-danger">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="MiddleName">Middle Name</label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="MiddleName" placeholder="Middle Name" id="MiddleName" value="@Model.MiddleName">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="UserName">User Name<span class="text-danger"></span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="UserName" placeholder="UserName" id="UserName" value="@UserName" readonly title="Sorry! you dont have access to modify this.">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-8">
                                                    <label><span class="text-danger" style="color:red">Note: To change your password, enter your current password below. Type a new password and confirm it and submit.</span></label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="Password">Current Password<span class="text-danger"></span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="CurrentPassword" placeholder="Current Password" id="CurrentPassword">
                                                    <span style="color:red;"><label id="lbl_password"></label></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="Password">New Password<span class="text-danger"></span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="Password" placeholder="New Password" id="Password" oninput="changecolor(this.value)">
                                                    <span style="color:red;"><label id="label_password"></label></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="Password">Re-Enter Password<span class="text-danger"></span></label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" name="ReEnterPassword" placeholder="Re-Enter Password" id="ReEnterPassword">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <ul>
                                                        <li id="char"><span style="color:black">8 characters</span></li>
                                                        <li id="lower"><span style="color:black">one lowercase</span></li>
                                                        <li id="special"><span style="color:black">one special character</span></li>

                                                    </ul>
                                                </div>
                                                <div class="col-md-3">
                                                    <ul>
                                                        <li id="upper"><span style="color:black">one uppercase </span></li>
                                                        <li id="num"><span style="color:black">one number</span></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-2">

                                                </div>
                                                <div class="col-md-4">
                                                    <button type="submit" id="submit" class="btn btn-secondary pull-right">Submit</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </form>
                    <div class="loader"> </div>
                    <div id="overlay"></div>
                </div>
            </div>
        </div>
    </div>
</div>




<script>
    //regularexpression for zipcode
    function checkZip(value) {
        value = value.value;
    return (/(^\d{5}$)|(^\d{5}-\d{4}$)/).test(value);
    };
    //regularexpression for fedral tax no
    function checkfed(value) {
        value = value.value;
        return (/(^\d{2}-\d{7}$)/).test(value);
    };
    //regularexpression for phone number
    function checkphone(value) {
        value = value.value;
        return (/^(1\s?)?((\([0-9]{3}\))|[0-9]{3})[\s\-]?[\0-9]{3}[\s\-]?[0-9]{4}$/).test(value);

    }
    //zip code validation events
    $("#BillingZipCode").keypress(function (e) {
            var charCode = (e.which) ? e.which : e.keyCode;
             if (charCode != 46 && charCode != 45 && charCode > 31
    && (charCode < 48 || charCode > 57))
     return false;

  return true;
    });

    $("#BillingZip").keypress(function (e) {
            var charCode = (e.which) ? e.which : e.keyCode;
             if (charCode != 46 && charCode != 45 && charCode > 31
    && (charCode < 48 || charCode > 57))
     return false;

  return true;
    });

    $("#PrimaryBusinessZip").keypress(function (e) {
            var charCode = (e.which) ? e.which : e.keyCode;
             if (charCode != 46 && charCode != 45 && charCode > 31
    && (charCode < 48 || charCode > 57))
     return false;

  return true;
        });

    function changecolor(password) {
        debugger

        var format = /[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;

        if (password.length >= 8) {
            document.getElementById('char').style.color = "green";
        } else {
            document.getElementById('char').style.color = "red";
        }
        if (hasLowerCase(password)) {
            document.getElementById('lower').style.color = "green";
        } else {
            document.getElementById('lower').style.color = "red";
        }
        if (hasUpperCase(password)) {
            document.getElementById('upper').style.color = "green";
        } else {
            document.getElementById('upper').style.color = "red";
        }
        if (password.search(/[0-9]/) > 0) {
            document.getElementById('num').style.color = "green";
        } else {
            document.getElementById('num').style.color = "red";
        }
        if (format.test(password)) {
            document.getElementById('special').style.color = "green";
        } else {
            document.getElementById('special').style.color = "red";
        }

    }



    $('#agentform').on('keyup keypress', function (e) {
        var keyCode = e.keyCode || e.which;
        if (keyCode === 13) {
            e.preventDefault();
            return false;
        }
    });
    $(document).ready(function () {
        $('[data-toggle="popover"]').popover();
        var paymentstatus = @Html.Raw(Json.Encode(ViewBag.errormsg));
        if (paymentstatus != null) {

            Swal.fire({
                title: "Warning!",
                text: paymentstatus,
                type: 'warning',

            }).then(function () {
                $('#guide-tabs li:eq(2) a').tab('show');
            })

        }

        $(".loader").hide();
        $("#overlay").hide();
    })
    $('#ReEnterPassword').on('click', function () {
        $(this).attr('type', 'password');
    });
    $('#Password').on('click', function () {
        $(this).attr('type', 'password');
    });
    $('#CurrentPassword').on('click', function () {
        $(this).attr('type', 'password');
    });


    //$('#DateOfEncorp').datepicker({
    //	dateFormat: "mm/dd/yy",
    //	autoclose: true
    //   });
    $('#DateOfEncorp').datepicker({
        format: 'mm/dd/yyyy',
        autoclose: true
    }).datepicker("setDate", new Date());

    $("#btnnext_1").click(function () {

        var businessname = document.getElementById("BusinessName");
        var stateofencorp = document.getElementById("StateOfEncorp");
        var companytype = document.getElementById("TypeOfComp");
        var dateofencorp = document.getElementById("DateOfEncorp");
        var fedidentityno = document.getElementById("FedTaxIdentityNo");

        if (companytype.value == '1') {
            var driversLicense = document.getElementById("DriversLicenseNumber");
            var driversLicenseState = document.getElementById("DriversLicenseState");
            if (!fedidentityno.checkValidity()) {
                $("#FedTaxIdentityNo").focus();
                document.getElementById("Msg_FedTaxIdentityNo").innerHTML = fedidentityno.validationMessage;
            }
            else if (!checkfed(fedidentityno)) {               
                $("#FedTaxIdentityNo").focus();
                document.getElementById("Msg_FedTaxIdentityNo").innerHTML = "Please enter a valid fed tax identity no.";
            }
            else if (!document.getElementById("FedTaxIdentityProof").checkValidity()) {
                $("#FedTaxIdentityProof").focus();
                document.getElementById("Msg_FedTaxIdentityProof").innerHTML = "Please select file.";
            }
            else if (!driversLicense.checkValidity()) {
                $("#DriversLicenseNumber").focus();
                document.getElementById("Msg_DriversLicenseNumber").innerHTML = driversLicense.validationMessage;
            } else if (!driversLicenseState.checkValidity()) {
                $("#DriversLicenseState").focus();
                document.getElementById("Msg_DriversLicenseState").innerHTML = driversLicenseState.validationMessage;
            } else if (!document.getElementById("DriversLicenseCopy").checkValidity()) {
                $("#DriversLicenseCopy").focus();
                document.getElementById("Msg_DriversLicenseCopy").innerHTML = "Please select file.";
            }
            else {
                $('#guide-tabs li:eq(1) a').tab('show');
            }
        }
        else {
            if (!businessname.checkValidity()) {
                $("#BusinessName").focus();
                document.getElementById("Msg_BusinessName").innerHTML = businessname.validationMessage;
            }
            else if (!companytype.checkValidity()) {
                $("#TypeOfComp").focus();
                document.getElementById("Msg_TypeOfComp").innerHTML = companytype.validationMessage;
            }
            else if (!stateofencorp.checkValidity()) {
                $("#StateOfEncorp").focus();
                document.getElementById("Msg_stateofencorp").innerHTML = stateofencorp.validationMessage;
            }
            else if (!document.getElementById("StateOfEncorpFile").checkValidity()) {
                $("#StateOfEncorpFile").focus();
                document.getElementById("Msg_StateOfEncorpFile").innerHTML = "Please select file.";
            }
            else if (!dateofencorp.checkValidity()) {
                $("#DateOfEncorp").focus();
                document.getElementById("Msg_DDateOfEncorp").innerHTML = dateofencorp.validationMessage;
            }
            else if (!fedidentityno.checkValidity()) {
                $("#FedTaxIdentityNo").focus();
                document.getElementById("Msg_FedTaxIdentityNo").innerHTML = fedidentityno.validationMessage;
            }else if (!checkfed(fedidentityno)) {
                $("#FedTaxIdentityNo").focus();
                document.getElementById("Msg_FedTaxIdentityNo").innerHTML = "Please enter a valid fed tax identity no.";
            }
            else if (!document.getElementById("FedTaxIdentityProof").checkValidity()) {
                $("#FedTaxIdentityProof").focus();
                document.getElementById("Msg_FedTaxIdentityProof").innerHTML = "Please select file.";
            }
            else {
                $('#guide-tabs li:eq(1) a').tab('show');
            }
        }

    })

    $("#btnnext_2").click(function () {

        var businessadd1 = document.getElementById("PrimaryBusinessAdd1");
        var primarycity = document.getElementById("PrimaryBusinessCity");
        var primarystate = document.getElementById("PrimaryBusinessState");
        var primaryzip = document.getElementById("PrimaryBusinessZip");
        var primaryphone = document.getElementById("PrimaryBusinessPhone");
        var primaryemail = document.getElementById("PrimaryBusinessEmail");


        var billingadd1 = document.getElementById("BillingAdd1");
        var billingcity = document.getElementById("BillingCity");
        var billingstate = document.getElementById("BillingState");
        var billingzip = document.getElementById("BillingZip");
        var billingphone = document.getElementById("BillingPhone");
        var billingemail = document.getElementById("BillingEmail");



        if (!businessadd1.checkValidity()) {
            $("#PrimaryBusinessAdd1").focus();
            document.getElementById("Msg_PrimaryBusinessAdd1").innerHTML = businessadd1.validationMessage;
        }
        else if (!primarycity.checkValidity()) {
            $("#PrimaryBusinessCity").focus();
            document.getElementById("Msg_PrimaryBusinessCity").innerHTML = primarycity.validationMessage;
        }
        else if (!primarystate.checkValidity()) {
            $("#PrimaryBusinessState").focus();
            document.getElementById("Msg_PrimaryBusinessState").innerHTML = primarystate.validationMessage;
        }
        else if (!primaryzip.checkValidity()) {
            $("#PrimaryBusinessZip").focus();
            document.getElementById("Msg_PrimaryBusinessZip").innerHTML = primaryzip.validationMessage;
        }
        else if (!primaryphone.checkValidity()) {
            $("#PrimaryBusinessPhone").focus();
            document.getElementById("Msg_PrimaryBusinessPhone").innerHTML = primaryphone.validationMessage;
        } else if (!checkphone(primaryphone)) {
            $("#PrimaryBusinessPhone").focus();
            document.getElementById("Msg_PrimaryBusinessPhone").innerHTML = "Please enter a valid phone";
        }
        else if (!primaryemail.checkValidity()) {
            $("#PrimaryBusinessEmail").focus();
            document.getElementById("Msg_PrimaryBusinessEmail").innerHTML = primaryemail.validationMessage;
        }
        else if (!billingadd1.checkValidity()) {
            $("#BillingAdd1").focus();
            document.getElementById("Msg_BillingAdd1").innerHTML = billingadd1.validationMessage;
        }
        else if (!billingcity.checkValidity()) {
            $("#BillingCity").focus();
            document.getElementById("Msg_BillingCity").innerHTML = billingcity.validationMessage;
        }
        else if (!billingstate.checkValidity()) {
            $("#BillingState").focus();
            document.getElementById("Msg_BillingState").innerHTML = billingstate.validationMessage;
        }
        else if (!billingzip.checkValidity()) {
            $("#BillingZip").focus();
            document.getElementById("Msg_BillingZip").innerHTML = billingzip.validationMessage;
        }else if (!checkZip(billingzip)) {
            $("#BillingZip").focus();
            document.getElementById("Msg_BillingZip").innerHTML = "please enter a valid zip code";
        }
        else if (!billingphone.checkValidity()) {
            
            document.getElementById("Msg_BillingPhone").innerHTML = billingphone.validationMessage;
        } else if (!checkphone(billingphone)) {
            $("#BillingPhone").focus();
            document.getElementById("Msg_BillingPhone").innerHTML = "Please enter a valid phone";
        }
        else if (!billingemail.checkValidity()) {
            $("#BillingEmail").focus();
            document.getElementById("Msg_BillingEmail").innerHTML = billingemail.validationMessage;
        } else if (!checkZip(primaryzip)) {           
            $("#PrimaryBusinessZip").focus();
            document.getElementById("Msg_PrimaryBusinessZip").innerHTML = "please enter a valid zip code";

        }
        else {
            $('#guide-tabs li:eq(2) a').tab('show');
        }

    })

    $("#btnnext_3").click(function () {

        var pricingplan = document.getElementById("PricingPlan");
        var billingtype = document.getElementById("txtBillingType");
        var cardtype = document.getElementById("CardType");
        var cardnumber = document.getElementById("txtCardNumber");
        var month = document.getElementById("txtExpiryMonth");
        var year = document.getElementById("txtExpiryYear");
        var cvv = document.getElementById("txtCVV");
        var zipcode = document.getElementById("BillingZipCode");

        if (!pricingplan.checkValidity()) {
            $("#PricingPlan").focus();
            document.getElementById("Msg_PricingPlan").innerHTML = pricingplan.validationMessage;
        }
        else if (!billingtype.checkValidity()) {
            $("#txtBillingType").focus();
            document.getElementById("Msg_txtBillingType").innerHTML = billingtype.validationMessage;
        }
        else if (!cardtype.checkValidity()) {
            $("#CardType").focus();
            document.getElementById("Msg_CardType").innerHTML = cardtype.validationMessage;
        }
        else if (!cardnumber.checkValidity()) {
            $("#txtCardNumber").focus();
            document.getElementById("Msg_txtCardNumber").innerHTML = cardnumber.validationMessage;
        }
        else if (!month.checkValidity()) {
            $("#txtExpiryMonth").focus();
            document.getElementById("Msg_txtExpiryMonth").innerHTML = "Please select Month.";
        }
        else if (!year.checkValidity()) {
            $("#txtExpiryYear").focus();
            document.getElementById("Msg_txtExpiryYear").innerHTML = "Please select Year.";
        }
        else if (!cvv.checkValidity()) {
            $("#txtCVV").focus();
            document.getElementById("Msg_txtCVV").innerHTML = cvv.validationMessage;
        }
        else if (!zipcode.checkValidity()) {
            $("#BillingZipCode").focus();
            document.getElementById("Msg_BillingZipCode").innerHTML = zipcode.validationMessage;
        } else if (!checkZip(zipcode)) {
            $("#BillingZipCode").focus();
            document.getElementById("Msg_BillingZipCode").innerHTML = "Please enter a valid zip code";
        }
        else {
            $('#guide-tabs li:eq(3) a').tab('show');
        }
    })

    function check() {
        if ($("#chk_primary").prop('checked') == true) {

            $("#BillingAdd1").val($("#PrimaryBusinessAdd1").val());
            $("#BillingAdd2").val($("#PrimaryBusinessAdd2").val());
            $("#BillingEmail").val($("#PrimaryBusinessEmail").val());
            $("#BillingCity").val($("#PrimaryBusinessCity").val());
            $("#BillingState").val($("#PrimaryBusinessState").val());
            $("#BillingZip").val($("#PrimaryBusinessZip").val());
            $("#BillingPhone").val($("#PrimaryBusinessPhone").val());

        } else {
            $("#BillingAdd1").val("");
            $("#BillingAdd2").val("");
            $("#BillingEmail").val("");
            $("#BillingCity").val("");
            $("#BillingState").val("");
            $("#BillingZip").val("");
            $("#BillingPhone").val("");
        }
    }

    function hasLowerCase(str) {
        if (str.toUpperCase() != str) {
            return true;
        }
        return false;
    }

    function hasUpperCase(str) {
        if (str.toLowerCase() != str) {
            return true;
        }
        return false;
    }

    $("#submit").click(function () {
        debugger
        var fname = document.getElementById("FirstName");
        var lname = document.getElementById("LastName");
         var format = /[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;
        if (!fname.checkValidity()) {
            $("#FirstName").focus();
            document.getElementById("Msg_FirstName").innerHTML = fname.validationMessage;
            return false;
        } else if (!lname.checkValidity()) {
            $("#LastName").focus();
            document.getElementById("Msg_LastName").innerHTML = lname.validationMessage;
            return false;
        }

        var Password = "";
        var ReEnterPassword = "";
        Password = $("#Password").val();
        ReEnterPassword = $("#ReEnterPassword").val();
        var currentpassword = $("#CurrentPassword").val();

            if (currentpassword != "" && Password == "") {
                $("#Password").focus();
                Swal.fire("!Warning", "please enter new password.", "warning");
                return false;
            }

        //password validation
        if (Password != "") {
            if (Password.length < 8) {
                var msg = "Your password must be at least 8 characters,one uppercase,one lower case,one digit";
                //alert(msg);
                document.getElementById('char').style.color = "green";
                document.getElementById("label_password").innerHTML = msg;
                return false;
            }
            if (!hasLowerCase(Password)) {
                var msg = "Your password must contain at least one lower case.";
                //alert(msg);
                document.getElementById('lower').style.color = "green";
                document.getElementById("label_password").innerHTML = msg;
                return false;
            }
            if (!hasUpperCase(Password)) {
                var msg = "Your password must contain at least one upper case.";
                //alert(msg);
                document.getElementById('upper').style.color = "red";
                document.getElementById("label_password").innerHTML = msg;
                return false;
            }
            if (Password.search(/[0-9]/) <= 0) {
                var msg = "Your password must contain at least one digit.";
                //alert(msg);
                document.getElementById('num').style.color = "red";
                document.getElementById("label_password").innerHTML = msg;
                return false;
            }
            if (!format.test(Password)) {
                var msg = "Your password must contain at least one special character.";
                //alert(msg);
                document.getElementById('special').style.color = "green";
                document.getElementById("label_password").innerHTML = msg;
                return false;
            }

            if (currentpassword == "" || currentpassword == undefined) {
                $("#CurrentPassword").focus();
                Swal.fire("!Warning", "Plase enter current password.", "warning");
                return false;
            }

            if (ReEnterPassword == "" || ReEnterPassword == undefined) {
                $("#CurrentPassword").focus();
                Swal.fire("!Warning", "Plase re-enter password.", "warning");
                return false;
            }

            if (Password != ReEnterPassword) {
                $("#Password").val("");
                $("#ReEnterPassword").val("");
                $("#Password").focus();
                Swal.fire("!Warning", "Password does not match.", "warning");
                return false;
            }



        } else {

             document.getElementById('special').style.color = "red";
             document.getElementById('char').style.color = "red";
             document.getElementById('lower').style.color = "red";
             document.getElementById('upper').style.color = "red";
             document.getElementById('num').style.color = "red";

        }

        $(".loader").show();
        $("#overlay").show();
    });

    $("#CurrentPassword").change(function () {


        var email = $("#UserName").val();
        var password = $("#CurrentPassword").val();

        if (email != null || email != "") {

            $.ajax({
                url: '/Registration/ValidatePassword',
                type: 'post',
                dataType: 'JSON',
                data: { UserName: email, Password: password },
                success: function (data) {

                    if (data) {
                        $("lbl_password").empty();
                    } else {
                        $("#CurrentPassword").val("");
                        $("#CurrentPassword").focus();
                        Swal.fire("!Warning", "Invalid current password.", "warning");
                        return false;
                    }
                }
            });
        }
    });

    function RemoveValidation(inputid) {
        var input = inputid.id;
        var ID = document.getElementById(inputid.id);
        var msgID = "Msg_" + input;
        if (!ID.checkValidity()) {

        } else {

            $("#" + msgID).html("");

        }
    }
    $("#navBusiness,#navAddress,#navBilling,#navPrimary").click(function () {

        var text = $(this).text()
        //alert($(this).text());
        var businessname = document.getElementById("BusinessName");
        var stateofencorp = document.getElementById("StateOfEncorp");
        var companytype = document.getElementById("TypeOfComp");
        var dateofencorp = document.getElementById("DateOfEncorp");
        var fedidentityno = document.getElementById("FedTaxIdentityNo");

        var businessadd1 = document.getElementById("PrimaryBusinessAdd1");
        var primarycity = document.getElementById("PrimaryBusinessCity");
        var primarystate = document.getElementById("PrimaryBusinessState");
        var primaryzip = document.getElementById("PrimaryBusinessZip");
        var primaryphone = document.getElementById("PrimaryBusinessPhone");
        var primaryemail = document.getElementById("PrimaryBusinessEmail");


        var billingadd1 = document.getElementById("BillingAdd1");
        var billingcity = document.getElementById("BillingCity");
        var billingstate = document.getElementById("BillingState");
        var billingzip = document.getElementById("BillingZip");
        var billingphone = document.getElementById("BillingPhone");
        var billingemail = document.getElementById("BillingEmail");

        var pricingplan = document.getElementById("PricingPlan");
        var billingtype = document.getElementById("txtBillingType");
        var cardtype = document.getElementById("CardType");
        var cardnumber = document.getElementById("txtCardNumber");
        var month = document.getElementById("txtExpiryMonth");
        var year = document.getElementById("txtExpiryYear");
        var cvv = document.getElementById("txtCVV");
        var zipcode = document.getElementById("BillingZipCode");

        if (!businessname.checkValidity()) {
            $("#BusinessName").focus();
            document.getElementById("Msg_BusinessName").innerHTML = businessname.validationMessage;
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;

        }
        else if (!companytype.checkValidity()) {
            $("#TypeOfComp").focus();
            document.getElementById("Msg_TypeOfComp").innerHTML = companytype.validationMessage;
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;

        }
        else if (!stateofencorp.checkValidity()) {
            $("#StateOfEncorp").focus();
            document.getElementById("Msg_stateofencorp").innerHTML = stateofencorp.validationMessage;
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;
        }
        else if (!document.getElementById("StateOfEncorpFile").checkValidity()) {
            $("#StateOfEncorpFile").focus();
            document.getElementById("Msg_StateOfEncorpFile").innerHTML = "Please select file.";
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;
        }
        else if (!dateofencorp.checkValidity()) {
            $("#DateOfEncorp").focus();
            document.getElementById("Msg_DDateOfEncorp").innerHTML = dateofencorp.validationMessage;
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;
        }
        else if (!fedidentityno.checkValidity()) {
            $("#FedTaxIdentityNo").focus();
            document.getElementById("Msg_FedTaxIdentityNo").innerHTML = fedidentityno.validationMessage;
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;
        }
        else if (!document.getElementById("FedTaxIdentityProof").checkValidity()) {
            $("#FedTaxIdentityProof").focus();
            document.getElementById("Msg_FedTaxIdentityProof").innerHTML = "Please select file.";
            $('#guide-tabs li:eq(0) a').tab('show');
            return false;
        }


        else if (!businessadd1.checkValidity()) {
            $("#PrimaryBusinessAdd1").focus();
            document.getElementById("Msg_PrimaryBusinessAdd1").innerHTML = businessadd1.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!primarycity.checkValidity()) {
            $("#PrimaryBusinessCity").focus();
            document.getElementById("Msg_PrimaryBusinessCity").innerHTML = primarycity.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!primarystate.checkValidity()) {
            $("#PrimaryBusinessState").focus();
            document.getElementById("Msg_PrimaryBusinessState").innerHTML = primarystate.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!primaryzip.checkValidity()) {
            $("#PrimaryBusinessZip").focus();
            document.getElementById("Msg_PrimaryBusinessZip").innerHTML = primaryzip.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!primaryphone.checkValidity()) {
            $("#PrimaryBusinessPhone").focus();
            document.getElementById("Msg_PrimaryBusinessPhone").innerHTML = primaryphone.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!primaryemail.checkValidity()) {
            $("#PrimaryBusinessEmail").focus();
            document.getElementById("Msg_PrimaryBusinessEmail").innerHTML = primaryemail.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingadd1.checkValidity()) {
            $("#BillingAdd1").focus();
            document.getElementById("Msg_BillingAdd1").innerHTML = billingadd1.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingcity.checkValidity()) {
            $("#BillingCity").focus();
            document.getElementById("Msg_BillingCity").innerHTML = billingcity.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingstate.checkValidity()) {
            $("#BillingState").focus();
            document.getElementById("Msg_BillingState").innerHTML = billingstate.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingzip.checkValidity()) {
            $("#BillingZip").focus();
            document.getElementById("Msg_BillingZip").innerHTML = billingzip.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingphone.checkValidity()) {
            $("#BillingPhone").focus();
            document.getElementById("Msg_BillingPhone").innerHTML = billingphone.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }
        else if (!billingemail.checkValidity()) {
            $("#BillingEmail").focus();
            document.getElementById("Msg_BillingEmail").innerHTML = billingemail.validationMessage;
            $('#guide-tabs li:eq(1) a').tab('show');
            return false;
        }

        if (!pricingplan.checkValidity()) {
            $("#PricingPlan").focus();
            document.getElementById("Msg_PricingPlan").innerHTML = pricingplan.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!billingtype.checkValidity()) {
            $("#txtBillingType").focus();
            document.getElementById("Msg_txtBillingType").innerHTML = billingtype.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!cardtype.checkValidity()) {
            $("#CardType").focus();
            document.getElementById("Msg_CardType").innerHTML = cardtype.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!cardnumber.checkValidity()) {
            $("#txtCardNumber").focus();
            document.getElementById("Msg_txtCardNumber").innerHTML = cardnumber.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!month.checkValidity()) {
            $("#txtExpiryMonth").focus();
            document.getElementById("Msg_txtExpiryMonth").innerHTML = "Please select Month.";
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!year.checkValidity()) {
            $("#txtExpiryYear").focus();
            document.getElementById("Msg_txtExpiryYear").innerHTML = "Please select Year.";
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!cvv.checkValidity()) {
            $("#txtCVV").focus();
            document.getElementById("Msg_txtCVV").innerHTML = cvv.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else if (!zipcode.checkValidity()) {
            $("#BillingZipCode").focus();
            document.getElementById("Msg_BillingZipCode").innerHTML = zipcode.validationMessage;
            $('#guide-tabs li:eq(2) a').tab('show');
            return false;
        }
        else {
            if (text == "Address") {
                $('#guide-tabs li:eq(1) a').tab('show');
            }
            else if (text == "Business Information") {
                $('#guide-tabs li:eq(0) a').tab('show');
            }
            else if (text == "Billing Information") {
                $('#guide-tabs li:eq(2) a').tab('show');
            }
            else if (text == "Primary User") {
                $('#guide-tabs li:eq(3) a').tab('show');
            }
        }
    })
    function IsValidNumber(e) {
        var charCode = (e.which) ? e.which : e.keyCode;
        if (charCode == 46 || (charCode > 31 && (charCode < 48 || charCode > 57))) {
            return false;
        }
        return true;
    }


</script>

